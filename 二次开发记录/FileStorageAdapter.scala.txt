actor-fs-adapters/src/main/scala/im/actor/server/file/FileStorageAdapter.scala

final case class UnsafeFileName(fileName: String) {
  lazy val safe: String = {
    val name = fileName.replace("\u0000", "")
    //去掉将文件名转换为拼音，可以保存中文名  by Lining 2016-6-14
    //val validName = if (isAsciiString(name)) name else toAsciiString(transliterate(name))
    val validName = name
    new File(validName).toPath.normalize().getFileName.toString
  }
}